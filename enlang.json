{
    "tokens":{
        "keywords":
        {
            "if":"if",
            "then":"then",
            "else":"else",
            "from":"from",
            "to":"to",
            "break":"break",
            "continue":"continue",
            "function":"function",
            "loop":"loop",
            "inttype":"int",
            "shorttype":"short",
            "realtype":"double",
            "chartype":"char",
            "return":"return",
            "type":"type",
            "void":"void",
            "nul":"nul",
            "boolean":"boolean",
            "true":"true",
            "false":"false",
            "jsload":"jsload",
            "jsexport":"jsexport",
            "sizeof":"sizeof",
            "class":"class",
            "public":"public",
            "private":"private",
            "protected":"protected",
            "repeat":"repeat"
        },
        "int":"[0-9]",
        "hex":"0x[0-9A-F]",
        "char":"[㐀-龯ぁ-んァ-ヶa-zA-Z_ー]",
        "comment":"\/\/.$",
        "string":"\"((?:[^\\\\\"]|\\.)*)\""
    },
    "grammar":{
        "exp":{
            "op":"exp(1) oper exp(2)",
            "minus":"- exp",
            "paren": "( exp )",
            "call":"varExp ( explist )",
            "address":"& var",
            "sizeof":"sizeof ( var )",
            "array":"[ explist ]",
            "func": "( fieldlist(params) ) => ( fieldlist(result) ) stm",
            "var": "var",
            "deref": "* var",
            "field":"exp . id",
            "subcript":"exp(arrayname) [ exp(index) ]",
            "arrowfield":"exp -> id",
            "int": "int",
            "string": "string",
            "real": "real",
            "char": "char",
            "seq": "explist"
        },
        "oper": {
            "add":"+",
            "sub":"-",
            "mul":"*",
            "div":"/",
            "mod":"%",
            "eq":"==",
            "neq":"!=",
            "ge":">=",
            "gt":">",
            "le":"<=",
            "lt":"<",
            "and":"&&",
            "or":"||"
        },
        "stm":{
            "assign": "var = exp ;",
            "assigna":{
                "normal":"var = exp ;",
                "add":"var + = exp ;",
                "sub":"var - = exp ;",
                "mul":"var * = exp ;",
                "div":"var / = exp ;",
                "increment":"var + + ;",
                "decrement":"var - - ;"
            },
            "if":{
                "if":"if ( exp ) stm(then)",
                "ifelse":"if ( exp ) stm(then) else stm(else)"
            },
            "while":"( exp ) to stm",
            "dec":"dec",
            "for":"( stm(init) ) from ( exp ) to ( stm(incr) ) stm(body)",
            "return":{
                "noexp":"return ;",
                "exp":"return ( exp ) ;"
            },
            "call":"varExp ( explist ) ;",
            "loop":"loop stm",
            "break":"break ;",
            "continue":"continue ;",
            "compound":"{ stmlist }",
            "declartion": "dec"
        },
        "dec":{
            "var": {
                "init":"ty : var = exp ;",
                "noinit":"ty : var ;"
            },
            "object": "ty : id ( explist ) ;",
            "class": {
                "noinherit":"class : id { memlist }",
                "inherit":"class : id <- id(inheritance) { memlist }"
            },
            "func": "function : id ( fieldlist(params) ) => ( fieldlist(result) ) stm",
            "jsload": "function : id ( fieldlist(params) ) => ( fieldlist(result) ) = jsload ( string(module) , string(func) ) ;",
            "jsexport": "jsexport ( id , string ) ;",
            "template": {
                "func":"type < id > : function : id ( fieldlist(param) ) => ( fieldlist(result) ) stm",
                "class":"type < id > : class : id { memlist }"
            }
        },
        "var": {
            "simple":"id",
            "field":"var . id",
            "deref":"* var",
            "subcript":"var [ exp ]",
            "arrowfield":"var -> id"
        },
        "varExp": {
            "var":"var",
            "field":"exp . id",
            "subcript":"exp(arrayname) [ exp(index) ]",
            "arrowfield":"exp -> id"
        },
        "ty": {
            "name" : "id",
            "void" : "void",
            "int" : "inttype",
            "real" : "realtype",
            "bool" : "boolean",
            "char" : "chartype",
            "short" : "shorttype",
            "pointer" : "* ty",
            "poly" : "id < ty >",
            "array": "ty [ int ]",
            "func": "function : ( fieldlist(params) ) => ( fieldlist(result) )"
        },
        "field": {
            "noinit":"ty : var"
        },
        "explist":{
            "null":"",
            "exp":"exp",
            "explist":"explist , exp"
        },
        "stmlist":{
            "null":"",
            "stm":"stm",
            "stmlist":"stmlist stm"
        },
        "declist":{
            "null":"",
            "dec":"dec",
            "declist":"declist dec"
        },
        "fieldlist":{
            "null":"",
            "field":"field",
            "fieldlist":"fieldlist , field"
        }
    }
}